(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),c=a.n(o),s=a(10),l=a(20),i=a(7),u=a.n(i),m=a(12),h=a(6),v=(a(28),a(1));var d=function(e){var t=e.book,a=e.shelf,o=e.onMove,c=Object(n.useState)(a),s=Object(h.a)(c,2),l=s[0],i=s[1];return r.a.createElement("div",{className:"book-shelf-changer"},r.a.createElement("select",{onChange:function(e){e.preventDefault(),i(e.target.value),o(t,e.target.value)},value:l},r.a.createElement("option",{value:"move",disabled:!0},"Move to..."),r.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),r.a.createElement("option",{value:"wantToRead"},"Want to Read"),r.a.createElement("option",{value:"read"},"Read"),r.a.createElement("option",{value:"none"},"None")))};var f=function(e){var t=e.book,a=e.shelf,n=e.onMove;return r.a.createElement("li",null,r.a.createElement("div",{className:"book"},r.a.createElement("div",{className:"book-top"},r.a.createElement("div",{className:"book-cover",style:{width:128,height:193,backgroundImage:"url(".concat(t.imageLinks?t.imageLinks.thumbnail:"icons/book-placeholder.svg",")")}}),r.a.createElement(d,{book:t,shelf:a,onMove:n})),r.a.createElement("div",{className:"book-title"},t.title),r.a.createElement("div",{className:"book-authors"},t.authors?t.authors.join(", "):"Unknown author")))};var b=function(e){var t=e.shelf,a=e.books,n=e.onMove,o=a.filter(function(e){return e.shelf===t.id});return r.a.createElement("div",{className:"bookshelf"},r.a.createElement("h2",{className:"bookshelf-title"},t.name),r.a.createElement("div",{className:"bookshelf-books"},r.a.createElement("ol",{className:"books-grid"},o.map(function(e){return r.a.createElement(f,{key:e.id,book:e,shelf:t.id,onMove:n})}))))};var k=function(e){var t=e.shelves,a=e.books,n=e.onMove;return r.a.createElement("div",{className:"list-books-content"},r.a.createElement("div",null,t.map(function(e){return r.a.createElement(b,{key:e.id,shelf:e,books:a,onMove:n})})))};var p=function(){return r.a.createElement("div",{className:"list-books-title"},r.a.createElement("h1",null,"MyReads"))},E=a(8);var g=function(){return r.a.createElement("div",{className:"open-search"},r.a.createElement(E.b,{to:"/search"},r.a.createElement("button",null,"Add a book")," "))};var y=function(e){var t=e.shelves,a=e.books,n=e.onMove;return r.a.createElement("div",{className:"list-books"},r.a.createElement(p,null),r.a.createElement(k,{books:a,shelves:t,onMove:n}),r.a.createElement(g,null))};var S=function(e){var t=e.resetSearch;return r.a.createElement(E.b,{to:"/"},r.a.createElement("button",{onClick:t,className:"close-search"},"Close"))},N="https://reactnd-books-api.udacity.com",j=localStorage.token;j||(j=localStorage.token=Math.random().toString(36).substr(-8));var w={Accept:"application/json",Authorization:j},M=function(){return fetch("".concat(N,"/books"),{headers:w}).then(function(e){return e.json()}).then(function(e){return e.books})},O=function(e,t){return fetch("".concat(N,"/books/").concat(e.id),{method:"PUT",headers:Object(s.a)({},w,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},R=function(e){return fetch("".concat(N,"/search"),{method:"POST",headers:Object(s.a)({},w,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})};var C=function(e){var t=e.onSearch,a=Object(n.useState)(""),o=Object(h.a)(a,2),c=o[0],s=o[1];return Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(u.a.mark(function e(){var a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(c.length>0)){e.next=8;break}return e.next=4,R(c);case 4:(a=e.sent).error?t([]):t(a),e.next=9;break;case 8:t([]);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}var a=setTimeout(function(){!function(){e.apply(this,arguments)}()},1e3);return function(){clearTimeout(a)}},[c]),r.a.createElement("div",{className:"search-books-input-wrapper"},r.a.createElement("input",{value:c,type:"text",placeholder:"Search by title or author",onChange:function(e){s(e.target.value)}}))};var x=function(e){var t=e.onSearch,a=e.resetSearch;return r.a.createElement("div",{className:"search-books-bar"},r.a.createElement(S,{resetSearch:a}),r.a.createElement(C,{onSearch:t}))};var B=function(e){var t=e.searchedBooks,a=e.onMove;return 0===t.length?r.a.createElement("div",{className:"search-books-results"},r.a.createElement("h3",null,"Note: "),"The backend API uses a fixed set of cached search results and is limited to a particular set of search terms, which can be found below. That list of terms are the _only_ terms that will work with the backend, so don't be surprised if your searches for Basket Weaving or Bubble Wrap don't come back with any results. ",r.a.createElement("br",null)," ",r.a.createElement("br",null)," ",r.a.createElement("strong",null,"SEARCH_TERMS:")," ","'Android', 'Art', 'Artificial Intelligence', 'Astronomy', 'Austen', 'Baseball', 'Basketball', 'Bhagat', 'Biography', 'Brief', 'Business', 'Camus', 'Cervantes', 'Christie', 'Classics', 'Comics', 'Cook', 'Cricket', 'Cycling', 'Desai', 'Design', 'Development', 'Digital Marketing', 'Drama', 'Drawing', 'Dumas', 'Education', 'Everything', 'Fantasy', 'Film', 'Finance', 'First', 'Fitness', 'Football', 'Future', 'Games', 'Gandhi', 'Homer', 'Horror', 'Hugo', 'Ibsen', 'Journey', 'Kafka', 'King', 'Lahiri', 'Larsson', 'Learn', 'Literary Fiction', 'Make', 'Manage', 'Marquez', 'Money', 'Mystery', 'Negotiate', 'Painting', 'Philosophy', 'Photography', 'Poetry', 'Production', 'Programming', 'React', 'Redux', 'River', 'Robotics', 'Rowling', 'Satire', 'Science Fiction', 'Shakespeare', 'Singh', 'Swimming', 'Tale', 'Thrun', 'Time', 'Tolstoy', 'Travel', 'Ultimate', 'Virtual Reality', 'Web Development', 'iOS'"):r.a.createElement("div",{className:"search-books-results"},r.a.createElement("ol",{className:"books-grid"},t.map(function(e){return r.a.createElement(f,{shelf:e.shelf?e.shelf:"none",key:e.id,book:e,onMove:a})})))};var T=function(e){var t=e.onMove,a=e.myBooks,n=e.resetSearch,o=e.searchedBooks,c=e.onSearch;return r.a.createElement("div",{className:"search-books"},r.a.createElement(x,{resetSearch:n,onSearch:c}),r.a.createElement(B,{myBooks:a,onMove:t,searchedBooks:o}))},A=[{id:"currentlyReading",name:"Currently Reading"},{id:"wantToRead",name:"Want to Read"},{id:"read",name:"Have Read"}],P=function(){var e=Object(n.useState)([]),t=Object(h.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)([]),i=Object(h.a)(c,2),d=i[0],f=i[1],b=Object(n.useState)(!1),k=Object(h.a)(b,2),p=k[0],E=k[1],g=function(){f([])},S=function(e){f(e)};Object(n.useEffect)(function(){function e(){return(e=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,M();case 3:t=e.sent,o(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),E(!0);case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var N=function(e,t){var n=a.find(function(t){return t.id===e.id});function r(){return(r=Object(m.a)(u.a.mark(function a(){return u.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,O(e,t);case 3:a.next=8;break;case 5:a.prev=5,a.t0=a.catch(0),console.error(a.t0);case 8:case"end":return a.stop()}},a,null,[[0,5]])}))).apply(this,arguments)}o(n?a.map(function(a){return a.id===e.id?Object(s.a)({},a,{shelf:t}):a}):[].concat(Object(l.a)(a),[Object(s.a)({},e,{shelf:t})])),function(){r.apply(this,arguments)}()};return p?r.a.createElement("div",null,"Network error. Please try again later."):r.a.createElement("div",{className:"app"},r.a.createElement(v.c,null,r.a.createElement(v.a,{exact:!0,path:"/",render:function(){return r.a.createElement(y,{books:a,shelves:A,onMove:N})}}),r.a.createElement(v.a,{path:"/search",render:function(){return r.a.createElement(T,{onSearch:S,searchedBooks:d,onMove:N,resetSearch:g,myBooks:a})}})))};a(34);c.a.render(r.a.createElement(E.a,null,r.a.createElement(P,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.2aadd2d0.chunk.js.map